var ensureAuthenticated,ensureAuthenticatedCode,express,passport,routesAdmin,routesApi,routesIndex;express=require("express"),passport=require("passport"),routesIndex=require("./../routes/"),routesAdmin=require("./../routes/admin"),routesApi=require("./../routes/api"),module.exports=function(e){return e.get("/admin/login",routesIndex.login),e.post("/admin/login",routesAdmin.loginPost),e.get("/admin/logout",routesAdmin.logout),e.get("/admin",ensureAuthenticated,routesAdmin.index),e.get("/admin/*",ensureAuthenticated,routesAdmin.index),e.get("/api",routesApi.index),e.get("*",routesIndex.index)},ensureAuthenticated=function(e,t,n){return e.isAuthenticated()?n():t.redirect("/admin/login")},ensureAuthenticatedCode=function(e,t,n){return e.isAuthenticated()?n():t.send(401)};